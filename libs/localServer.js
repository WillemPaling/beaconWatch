var http = require('http'),
	localServer = {
		serverPort: Math.floor(Math.random()*(12000-8000+1)+8000)
	};


localServer.server = http.createServer(function (request, response) {
	var imageData = [
		0x47,0x49, 0x46,0x38, 0x39,0x61, 0x01,0x00, 0x01,0x00, 0x80,0x00, 0x00,0xFF, 0xFF,0xFF,
		0x00,0x00, 0x00,0x21, 0xf9,0x04, 0x04,0x00, 0x00,0x00, 0x00,0x2c, 0x00,0x00, 0x00,0x00,
		0x01,0x00, 0x01,0x00, 0x00,0x02, 0x02,0x44, 0x01,0x00, 0x3b
	];
	var imageBuffer = new Buffer(imageData);
	response.writeHead(200, {
		'Content-Type': 'image/gif',
		'Content-Length': imageData.length
	});
	response.end(imageBuffer);

}).listen(localServer.serverPort);

module.exports = localServer;